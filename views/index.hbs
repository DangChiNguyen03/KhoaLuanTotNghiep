{{!< layouts/main}}
{{!-- Carousel hero (Bootstrap 5) --}}
<section class="hero-section mb-5 p-0" style="max-width: 100%; overflow-x: hidden;">
  <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000" data-bs-wrap="true">
    <div class="carousel-inner">

      <div class="carousel-item active">
        <img src="/images/event/event_picture.jpg" class="d-block w-100 hero-slide-img" alt="YOLO Brew 1">
        <div class="carousel-caption d-flex flex-column justify-content-center align-items-center">
          <a href="/products" class="btn btn-primary btn-lg">Xem đồ uống</a>
        </div>
      </div>

      <div class="carousel-item">
        <img src="/images/event/event_picture.jpg" class="d-block w-100 hero-slide-img" alt="YOLO Brew 2">
        <div class="carousel-caption d-flex flex-column justify-content-center align-items-center">
          <a href="/products" class="btn btn-primary btn-lg">Xem đồ uống</a>
        </div>
      </div>

      <div class="carousel-item">
        <img src="/images/event/event_picture.jpg" class="d-block w-100 hero-slide-img" alt="YOLO Brew 3">
        <div class="carousel-caption d-flex flex-column justify-content-center align-items-center">
          <a href="/products" class="btn btn-primary btn-lg">Xem đồ uống</a>
        </div>
      </div>

      <div class="carousel-item">
        <img src="/images/event/event_picture.jpg" class="d-block w-100 hero-slide-img" alt="YOLO Brew 4">
        <div class="carousel-caption d-flex flex-column justify-content-center align-items-center">
          <a href="/products" class="btn btn-primary btn-lg">Xem đồ uống</a>
        </div>
      </div>

    </div>
  </div>
</section>

<section class="featured-products mb-5">
    <h2 class="text-center mb-4">{{featuredTitle}}</h2>
    {{#if products.length}}
    <div class="row">
        {{#each products}}
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <img src="{{image}}" class="card-img-top" alt="{{name}}" style="height: 200px; object-fit: contain;">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{name}}</h5>
                    <p class="card-text flex-grow-1">{{description}}</p>
                    <p class="card-text">
                        <strong>
                            {{#if price}}
                                {{formatPrice price}}
                            {{else if sizes}}
                                {{#if (eq category 'Topping')}}
                                    {{formatPrice sizes.[0].price}}
                                {{else}}
                                    Từ {{formatPrice sizes.[0].price}}
                                {{/if}}
                            {{else}}
                                Liên hệ để biết giá
                            {{/if}}
                        </strong>
                    </p>
                    <div class="mt-auto">
                        <a href="/products/{{_id}}" class="btn btn-primary">Chi tiết</a>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
    {{else}}
    <div class="alert alert-info text-center">
        <i class="fas fa-info-circle me-2"></i>Chưa có sản phẩm nào.
    </div>
    {{/if}}
</section>

<style>

#heroCarousel,
.carousel-inner,
.carousel-item{
  width: 100%;
  max-width: 100%;
}


.hero-section {
    width: 100%;
  max-width: 100%;
    background: none;
}

.hero-slide-img {
    height: 400px;
    width: 100%;
  max-width: 100%;
    object-fit: cover;
}

.carousel-caption {
  top: 50%;
  transform: translateY(-50%);
  bottom: auto;
  padding: 0;
}

.carousel-caption a.btn {
  background-color: rgba(0, 123, 255, 0.85); /* xanh trong suốt nhẹ */
  border: none;
}

.carousel-caption a.btn:hover {
  background-color: rgba(0, 86, 179, 0.9);
}

@media (max-width: 767px) {
  .hero-slide-img { height: 320px; }
}


</style>

<script>
    <script>
  document.addEventListener('DOMContentLoaded', function () {
    const el = document.getElementById('heroCarousel');
    if (el && typeof bootstrap !== 'undefined') {
      new bootstrap.Carousel(el, {
        interval: 2000,
        ride: 'carousel',
        wrap: true
      });
    }
  });

</script>